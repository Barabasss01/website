<!doctype html>
<html lang="hu">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>FIDESZ kalkul√°tor</title>
  <style>
    :root{
      --bg: #0b1020;
      --card: #111731;
      --muted: #9aa3b2;
      --text: #e8ecf4;
      --accent: #6ea8fe;
      --accent-2: #82f5c2;
      --ring: rgba(110,168,254,.45);
      --shadow: 0 10px 25px rgba(0,0,0,.35), 0 2px 8px rgba(0,0,0,.2);
    }
    * { box-sizing: border-box; }

    body{
      margin:0;
      background: radial-gradient(1200px 600px at 10% -10%, #ffb347 0%, transparent 60%),
                 radial-gradient(1000px 500px at 110% 0%, #ffcc33 0%, transparent 55%),
                 var(--bg);
      font: 16px/1.5 system-ui, sans-serif;
      min-height: 100vh;
      display:grid;
      place-items:center;
      overflow:hidden;
      position:relative;
      color: var(--text);
    }

    .falling {
      position: absolute;
      top: -100px;
      width: 60px;
      height: 60px;
      pointer-events: none;
      animation-name: fall;
      animation-timing-function: linear;
      animation-fill-mode: forwards;
    }

    @keyframes fall {
      0%   { transform: translateY(-100px) rotate(0deg); opacity:1; }
      100% { transform: translateY(110vh) rotate(360deg); opacity:0; }
    }

    @media (max-width: 480px) {
      .card {
        padding: 16px;
        border-radius: 12px;
      }
      #errorMsg {
        font-size: 20px;
        padding: 20px;
      }
      #movingImg {
        width: 60px;
      }
    }
    .card{
      width: 100%; 
      max-width: 720px; 
      background: rgba(0,0,0,0.4);
      border-radius: 20px; 
      padding: 20px;
      position: relative;
      z-index: 10; /* hogy a lehull√≥ k√©pek m√∂g√∂tte legyenek */
    }
    .card{
      width: 100%; max-width: 720px; background: linear-gradient(180deg, rgba(255,255,255,.02), rgba(255,255,255,.00)), var(--card);
      border: 1px solid rgba(255,255,255,.06); border-radius: 20px; box-shadow: var(--shadow);
      overflow: hidden;
    }
    header{ padding: 28px 28px 12px; }
    header h1{ margin:0; font-size: clamp(22px, 4vw, 28px); letter-spacing: .2px; color: #ff9a3c;}
    form{ padding: 0 28px 24px; display:grid; gap: 16px; }
    label{ font-weight: 300; }
    .field{
      position: relative; display:flex; align-items:center; background: rgba(255,255,255,.04);
      border: 1px solid rgba(255,255,255,.08); border-radius: 14px; padding: 10px 14px; gap: 10px;
    }
    .field:focus-within{ outline: 2px solid var(--ring); box-shadow: 0 0 0 4px rgba(110,168,254,.15) inset; }
    .field input{
      flex:1; border:0; outline:0; background:transparent; color:var(--text); font-size:18px;
    }
    .suffix{ color: var(--muted); font-weight:600; }
    .actions{ display:flex; gap:12px; align-items:center; }
    button{
      appearance:none; border:0; padding: 12px 16px; border-radius: 12px; font-weight:700; cursor:pointer;
      background: linear-gradient(180deg, rgba(130,245,194,.2), rgba(130,245,194,.12)); color:#dffef1;
      border: 1px solid rgba(130,245,194,.35);
      transition: transform .06s ease, filter .2s ease;
    }
    button:hover{ filter: brightness(1.1); }
    button:active{ transform: translateY(1px); }
    .ghost{ background: transparent; color: var(--muted); border:1px dashed rgba(255,255,255,.18); font-weight:600; }

    .results{ padding: 20px 28px 28px; background: linear-gradient(180deg, rgba(255,255,255,.02), rgba(255,255,255,.00)); border-top: 1px solid rgba(255,255,255,.06); display:grid; gap:12px; }
    .result-line{ font-size: 20px; font-weight: bold; background: rgba(255,255,255,.03); border:1px solid rgba(255,255,255,.08); padding:12px 14px; border-radius:12px; color: #6ea8fe; }
    .result-line .label{ display:block; font-size: 16px; margin-bottom: 4px; }
    .number{ font-weight:800; letter-spacing:.2px; }
    .note{ font-size: 14px; margin-top: 4px; color: var(--muted); }
    .error-overlay {
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%) scale(0.8);
    background: #ff4d4d;
    color: white;
    font-size: 28px;
    font-weight: bold;
    padding: 30px 40px;
    border-radius: 16px;
    box-shadow: 0 8px 24px rgba(0,0,0,.4);
    z-index: 9999;
    opacity: 0;
    animation: popIn 0.5s ease-out forwards;
  }

  @keyframes popIn {
    to {
      opacity: 1;
      transform: translate(-50%, -50%) scale(1);
    }
  }
  </style>
</head>
<body>
  <main class="card" role="region" aria-labelledby="title">
    <header>
      <h1 id="title">FIDESZ kalkul√°tor</h1>
    </header>

    <form id="form" novalidate>
      <label for="gross">Add meg a brutt√≥ fizet√©sed:</label>
      <div class="field">
        <input id="gross" name="gross" type="text" inputmode="numeric" placeholder="pl. 450 000" autocomplete="off" />
        <div class="suffix">Ft / h√≥</div>
      </div>

      <div class="actions">
        <button type="submit">Sz√°mol√°s</button>
        <button type="button" class="ghost" id="clearBtn" aria-label="Mez≈ë t√∂rl√©se">T√∂rl√©s</button>
      </div>
    </form>

    <section class="results" id="results" hidden>
      <div class="result-line">
        <span class="label">Becs√ºlt nett√≥ j√∂vedelmed havonta:</span>
        <span class="number" id="netto"></span>
      </div>
      <div class="note">
        Ez egy egyszer≈±s√≠tett sz√°m√≠t√°s, csak k√©tharmaddal sz√°mol.
      </div>
    </section>
  </main>
  <audio id="clickSound" src="hang.mp3" preload="auto" loop></audio>
<!-- K√∂z√©pre lebeg≈ë hiba√ºzenet -->
<div id="errorMsg" class="error-overlay" hidden style="text-align: center;">
  Hopp√°! Sajnos a rendszer benyelte a fizet√©sed! <br>
  üçäOrbit elvitte a p√©zt!4!üçä
</div>
  <img id="movingImg" src="meszi.png" alt="mozg√≥ k√©p" style="max-width: 10%; position: fixed; bottom: 20px; left:0; transform: scaleY(1); z-index:1000; display:none;">
  <script>
    (function(){
      const grossInput = document.getElementById('gross');
      const form = document.getElementById('form');
      const results = document.getElementById('results');
      const nettoEl = document.getElementById('netto');
      const clearBtn = document.getElementById('clearBtn');
      const errorMsg = document.getElementById('errorMsg');

      function parseHUF(value){
        if (!value) return NaN;
        const digits = String(value).replace(/[^\d]/g, '');
        return digits ? Number(digits) : NaN;
      }

      function calc(){
        const gross = parseHUF(grossInput.value);
        if (!gross || gross <= 0) {
          results.hidden = true;
          errorMsg.hidden = true;
          return;
        }

        // K√©p megjelen√≠t√©se
        nettoEl.innerHTML = `<img src="meme.jpg" alt="eredm√©ny" style="max-width: 90%; max-height: 90%;">`;
        results.hidden = false;
        errorMsg.hidden = true;

        // 2 m√°sodperc m√∫lva hiba√ºzenet
        setTimeout(()=>{
          errorMsg.hidden = false;
        }, 2000);
      }

      form.addEventListener('submit', (e)=>{ e.preventDefault(); calc(); });
      grossInput.addEventListener('keydown', (e)=>{ if (e.key === 'Enter') { e.preventDefault(); calc(); }});
      clearBtn.addEventListener('click', ()=>{
        grossInput.value = '';
        results.hidden = true;
        errorMsg.hidden = true;
        grossInput.focus();
      });

      grossInput.addEventListener('blur', ()=>{
        const val = parseHUF(grossInput.value);
        if (val) grossInput.value = new Intl.NumberFormat('hu-HU').format(val);
      });
    })();

  </script>
  <script>
    const img = document.getElementById('movingImg');
    const speed = 2; // pixel/frame
    let direction = 1; // 1 = jobbra, -1 = balra
    let moving = false; // csak ha gomb megnyomva

    function moveImage() {
      if (!moving) return; // ha m√©g nem indult, semmit sem csin√°l
      const currentLeft = img.offsetLeft;
      const screenWidth = window.innerWidth;
      const imgWidth = img.offsetWidth;

      let nextLeft = currentLeft + speed * direction;

      // ha el√©rte a k√©perny≈ë sz√©l√©t ‚Üí ir√°nyt v√°lt
      if (nextLeft + imgWidth >= screenWidth) {
        direction = -1;
        img.style.transform = 'scaleX(-1)';
        nextLeft = screenWidth - imgWidth;
      } else if (nextLeft <= 0) {
        direction = 1;
        img.style.transform = 'scaleX(1)';
        nextLeft = 0;
      }

      img.style.left = nextLeft + 'px';
      requestAnimationFrame(moveImage);
    }

    // a ‚ÄûSz√°mol√°s‚Äù gomb esem√©ny√©ben:
    const form = document.getElementById('form');
    form.addEventListener('submit', (e)=>{
      e.preventDefault();

      clickSound.currentTime = 0; // ha gyorsan nyomj√°k, mindig az elej√©r≈ël induljon
      clickSound.play();


      // a sz√°m√≠t√°s/k√©p megjelen√≠t√©s itt t√∂rt√©nik (pl. nettoEl.innerHTML = ...)
      const nettoEl = document.getElementById('netto');
      nettoEl.innerHTML = `<img src="meme.jpg" alt="eredm√©ny" style="max-width:600px;">`;

      // mozg√≥ als√≥ k√©p elind√≠t√°sa
      if (!moving) {
        moving = true;
        img.style.display = 'block';
        requestAnimationFrame(moveImage);
      }

      // 2 m√°sodperc m√∫lva lebeg≈ë hiba√ºzenet (kor√°bbi k√≥dod)
      const errorMsg = document.getElementById('errorMsg');
      errorMsg.hidden = true;
      setTimeout(()=>{ errorMsg.hidden = false; }, 2000);
    });
  </script>
  <script>
    // Ide √≠rd be a PNG k√©peid el√©r√©si √∫tj√°t
    const images = [
      "fidesz1.png"
    ];

    function createFallingImage(){
      const img = document.createElement("img");
      img.src = images[Math.floor(Math.random() * images.length)];
      img.className = "falling";
      img.style.left = Math.random() * 100 + "vw";
      img.style.animationDuration = (5 + Math.random() * 5) + "s";
      img.style.transform = `rotate(${Math.random()*360}deg)`;
      document.body.appendChild(img);

      // Ha leesett, t√∂r√∂lj√ºk
      img.addEventListener("animationend", ()=> img.remove());
    }

    // Minden 1 m√°sodpercben √∫j k√©p hullik
    setInterval(createFallingImage, 1000);
  </script>
</body>
</html>
